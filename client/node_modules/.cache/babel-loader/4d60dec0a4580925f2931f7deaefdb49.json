{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iN8_PC\\\\Desktop\\\\Coding\\\\storial\\\\client\\\\src\\\\pages\\\\EditBook.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { useState, useRef, useEffect } from 'react';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditBook() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [notes, setNotes] = useState('');\n  const [newTitle, setNewTitle] = useState('');\n  const [newAuthor, setNewAuthor] = useState('');\n  const [newNotes, setNewNotes] = useState('');\n  const [isLoading, setIsLoading] = useState(''); //load book data for initial render and apply focus to title field\n\n  const titleField = useRef(null);\n  useEffect(() => {\n    (async () => {\n      setIsLoading(true);\n      await api.getBookById(id).then(book => {\n        setTitle(book.data.data.title);\n        setAuthor(book.data.data.author);\n        setNotes(book.data.data.notes);\n        setIsLoading(false);\n        titleField.current.focus();\n      });\n    })();\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const payload = {};\n    payload.title = newTitle ? newTitle : title;\n    payload.author = newAuthor ? newAuthor : author;\n    payload.notes = newNotes ? newNotes : notes;\n    await api.updateBookById(id, payload).then(res => {\n      window.alert(`${newTitle} has been successfully updated`);\n      history.push('/books/list');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"page-header-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/storial-logo.png\",\n        alt: \"Storial Logo\",\n        className: \"w-1/5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-header-title\",\n        children: [\"edit \", title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex flex-col\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        class: \"block text-gray-700 text-sm font-bold mb-2\",\n        for: \"title\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        id: \"title\",\n        ref: titleField,\n        className: \"textfield focus:outline-none focus:shadow-outline\",\n        required: true,\n        defaultValue: title,\n        onChange: e => {\n          setNewTitle(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Author\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Author\",\n        id: \"Author\",\n        className: \"textfield focus:outline-none focus:shadow-outline\",\n        required: true,\n        defaultValue: author,\n        onChange: e => {\n          setNewAuthor(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Notes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"Notes\",\n        id: \"Notes\",\n        className: \"textfield focus:outline-none focus:shadow-outline h-28\",\n        required: true,\n        defaultValue: notes,\n        onChange: e => setNewNotes(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Update Book\",\n        className: \"submit-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"page-navbar\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/books/list\",\n        className: \"m-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-btn\",\n          children: \"view library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/books/create\",\n        className: \"m-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"page-btn\",\n          children: \"quick add book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer-container\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"flex items-center justify-center\",\n        href: \"https://www.linkedin.com/in/jamesespy/\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"Handmade artisanal app by James Espy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditBook, \"edr2EBcLvjqkeInp1P4pXdfpcqc=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = EditBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditBook\");","map":{"version":3,"sources":["C:/Users/iN8_PC/Desktop/Coding/storial/client/src/pages/EditBook.js"],"names":["Link","useHistory","useParams","useState","useRef","useEffect","api","EditBook","id","history","title","setTitle","author","setAuthor","notes","setNotes","newTitle","setNewTitle","newAuthor","setNewAuthor","newNotes","setNewNotes","isLoading","setIsLoading","titleField","getBookById","then","book","data","current","focus","handleSubmit","e","preventDefault","payload","updateBookById","res","window","alert","push","target","value"],"mappings":"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","sourcesContent":["import { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport api from '../api';\r\n\r\nexport default function EditBook() {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [title, setTitle] = useState('');\r\n  const [author, setAuthor] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const [newAuthor, setNewAuthor] = useState('');\r\n  const [newNotes, setNewNotes] = useState('');\r\n  const [isLoading, setIsLoading] = useState('');\r\n\r\n  //load book data for initial render and apply focus to title field\r\n  const titleField = useRef(null);\r\n  useEffect(() => {\r\n    (async () => {\r\n      setIsLoading(true);\r\n      await api.getBookById(id)\r\n      .then(book => {\r\n        setTitle(book.data.data.title);\r\n        setAuthor(book.data.data.author);\r\n        setNotes(book.data.data.notes);\r\n        setIsLoading(false);\r\n        titleField.current.focus();\r\n      })          \r\n    })()\r\n  }, [])  \r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const payload = { }\r\n    payload.title = newTitle ? newTitle : title;\r\n    payload.author = newAuthor ? newAuthor : author;\r\n    payload.notes = newNotes ? newNotes : notes;\r\n\r\n    await api.updateBookById(id, payload)\r\n    .then(res => {\r\n      window.alert(`${newTitle} has been successfully updated`)\r\n      history.push('/books/list');\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <main className=\"page-header-container\">\r\n        <img src=\"/storial-logo.png\" alt=\"Storial Logo\" className=\"w-1/5\" />\r\n        <h1 className=\"page-header-title\">\r\n          edit {title}\r\n        </h1>\r\n      </main>\r\n      {isLoading &&\r\n        <h2>Loading...</h2>\r\n      }\r\n\r\n      {!isLoading &&\r\n      <form\r\n        className=\"flex flex-col\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"title\" >\r\n          Title\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          id=\"title\"\r\n          ref={titleField}\r\n          className=\"textfield focus:outline-none focus:shadow-outline\"\r\n          required\r\n          defaultValue={title}\r\n          onChange={(e) => {\r\n            setNewTitle(e.target.value)\r\n          }}\r\n        />\r\n        <label>\r\n          Author\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"Author\"\r\n          id=\"Author\"\r\n          className=\"textfield focus:outline-none focus:shadow-outline\"\r\n          required\r\n          defaultValue={author}\r\n          onChange={(e) => {\r\n            setNewAuthor(e.target.value)\r\n          }}\r\n        />\r\n        <label>\r\n          Notes\r\n        </label>\r\n        <textarea\r\n          name=\"Notes\"\r\n          id=\"Notes\"\r\n          className=\"textfield focus:outline-none focus:shadow-outline h-28\"\r\n          required\r\n          defaultValue={notes}\r\n          onChange={(e) => setNewNotes(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Update Book\"\r\n          className=\"submit-btn\"\r\n        />\r\n      </form>}\r\n\r\n      <section className=\"page-navbar\">\r\n        <Link to=\"/books/list\" className=\"m-10\">\r\n          <button className=\"page-btn\">view library</button>\r\n        </Link>\r\n        <Link to=\"/books/create\" className=\"m-10\">\r\n          <button className=\"page-btn\">quick add book</button>\r\n        </Link>\r\n      </section>\r\n\r\n      <footer className=\"footer-container\">\r\n        <a\r\n          className=\"flex items-center justify-center\"\r\n          href=\"https://www.linkedin.com/in/jamesespy/\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Handmade artisanal app by James Espy\r\n        </a>\r\n      </footer>\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}